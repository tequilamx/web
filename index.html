<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tequila Los Plebes - El Espíritu de la Banda</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- GSAP y ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <style>
        :root {
            --gold: #D4AF37;
            --dark-bg: #181818;
            --light-bg: #F9F6F1;
            --text-dark: #1a1a1a;
            --text-light: #e5e5e5;
        }
        body { background-color: var(--light-bg); color: var(--text-dark); }
        .font-montserrat { font-family: 'Montserrat', sans-serif; }
        .font-inter { font-family: 'Inter', sans-serif; }

        .gold-text { color: var(--gold); }
        .gold-bg { background-color: var(--gold); }
        
        .nav-scrolled {
            background-color: rgba(249, 246, 241, 0.85);
            backdrop-filter: blur(12px);
            box-shadow: 0 2px 10px rgba(0,0,0, 0.05);
        }
        .section-dark { background-color: var(--dark-bg); color: var(--text-light); }
        
        /* Modal */
        #product-modal { visibility: hidden; opacity: 0; }

        /* Estados iniciales para animaciones */
        .reveal-up, #hero-subtitle, #hero-buttons, #hero-video-container {
            opacity: 0;
            transform: translateY(50px);
            will-change: transform, opacity;
        }
        .hero-line {
            overflow: hidden;
        }
        .hero-line span {
            display: inline-block;
            transform: translateY(120%);
            will-change: transform;
        }
        /* Chatbot styles */
        #chatbot-container {
            transform: translateY(20px);
            opacity: 0;
            visibility: hidden;
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #a3a3a3;
            display: inline-block;
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body class="font-inter overflow-x-hidden">

    <!-- Barra de Navegación -->
    <nav id="navbar" class="fixed top-0 w-full z-50 transition-all duration-300">
        <div class="max-w-screen-xl mx-auto px-6 py-5">
            <div class="flex justify-between items-center">
                <a href="#inicio">
                    <img src="https://i.imgur.com/SHUCRZD.png" onerror="this.onerror=null;this.src='https://placehold.co/200x80/F9F6F1/1a1a1a?text=Los+Plebes&font=montserrat';" alt="Tequila Los Plebes Logo" class="h-12">
                </a>
                <div id="desktop-menu" class="hidden md:flex items-center space-x-10 text-gray-700 font-medium">
                    <a href="#filosofia" class="hover:text-gold transition-colors duration-300">Filosofía</a>
                    <a href="#legado" class="hover:text-gold transition-colors duration-300">Nuestra Raíz</a>
                    <a href="#proceso" class="hover:text-gold transition-colors duration-300">Proceso</a>
                    <a href="#productos" class="hover:text-gold transition-colors duration-300">Colección</a>
                    <a href="#contacto" class="hover:text-gold transition-colors duration-300">Contacto</a>
                </div>
                <button id="mobile-menu-button" class="md:hidden text-gray-800 focus:outline-none">
                    <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white/95 backdrop-blur-lg">
            <a href="#filosofia" class="block text-center py-4 px-6 text-gray-700 hover:bg-gold/10 transition-colors">Filosofía</a>
            <a href="#legado" class="block text-center py-4 px-6 text-gray-700 hover:bg-gold/10 transition-colors">Nuestra Raíz</a>
            <a href="#proceso" class="block text-center py-4 px-6 text-gray-700 hover:bg-gold/10 transition-colors">Proceso</a>
            <a href="#productos" class="block text-center py-4 px-6 text-gray-700 hover:bg-gold/10 transition-colors">Colección</a>
            <a href="#contacto" class="block text-center py-4 px-6 text-gray-700 hover:bg-gold/10 transition-colors">Contacto</a>
        </div>
    </nav>

    <!-- Sección de Inicio (Hero) -->
    <section id="inicio" class="section-dark min-h-screen flex items-center relative overflow-hidden">
        <div class="absolute inset-0 z-0">
            <video playsinline autoplay muted loop poster="https://i.imgur.com/zCngJCy.png" class="w-full h-full object-cover opacity-40">
                <source src="https://i.imgur.com/kS3AZuz.mp4" type="video/mp4">
                Tu navegador no soporta el video.
            </video>
            <div class="absolute inset-0 bg-black/50"></div>
        </div>
        <div class="relative z-10 px-6 max-w-screen-xl mx-auto w-full">
            <div class="text-center">
                <h1 class="font-montserrat text-6xl md:text-8xl lg:text-9xl font-black leading-tight text-white uppercase">
                    <div class="hero-line"><span>El Espíritu</span></div>
                    <div class="hero-line"><span class="gold-text">de la Banda.</span></div>
                </h1>
                <p id="hero-subtitle" class="text-lg text-gray-300 leading-relaxed max-w-2xl mx-auto mt-6">
                    Hecho para celebrar los momentos que importan, con la gente que importa. Esto es Tequila Los Plebes.
                </p>
                <div id="hero-buttons" class="mt-8">
                    <a href="#productos" class="inline-block gold-bg text-black px-10 py-4 rounded-full font-bold hover:brightness-110 transition-all duration-300">
                        CONOCE LOS TEQUILAS
                    </a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Sección Filosofía -->
    <section id="filosofia" class="py-20 lg:py-32">
        <div class="max-w-4xl mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="font-montserrat text-4xl md:text-5xl font-bold mb-4 text-amber-900/80 reveal-up">Nuestra Filosofía</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto reveal-up">Las reglas de la casa.</p>
            </div>
            <div class="space-y-20">
                <!-- Misión -->
                <div class="flex flex-col md:flex-row gap-8 items-start reveal-up">
                    <div class="w-16 h-16 flex-shrink-0 text-gold">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                    </div>
                    <div>
                        <h3 class="font-montserrat text-3xl font-bold mb-4 text-text-dark">Misión</h3>
                        <p class="text-gray-700 text-lg">Crear un tequila de a de veras, que una a la banda y celebre los buenos momentos con un sabor auténtico y de calidad que se siente como en casa. No hacemos tequila para los estantes, lo hacemos para las mesas, las fiestas y las memorias.</p>
                    </div>
                </div>
                <!-- Visión -->
                <div class="flex flex-col md:flex-row gap-8 items-start reveal-up">
                     <div class="w-16 h-16 flex-shrink-0 text-gold">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h8a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.881 4.002l.023.023a1 1 0 01.023.023l.738.738a1 1 0 010 1.414l-1.414 1.414a1 1 0 01-1.414 0l-.738-.738a1 1 0 01-.023-.023L4 5.414a1 1 0 010-1.414l1.414-1.414a1 1 0 011.414 0l.023.023zm10 0l.023.023a1 1 0 01.023.023l.738.738a1 1 0 010 1.414l-1.414 1.414a1 1 0 01-1.414 0l-.738-.738a1 1 0 01-.023-.023L14 5.414a1 1 0 010-1.414l1.414-1.414a1 1 0 011.414 0l.023.023z" /></svg>
                    </div>
                    <div>
                        <h3 class="font-montserrat text-3xl font-bold mb-4 text-text-dark">Visión</h3>
                        <p class="text-gray-700 text-lg">Ser el tequila preferido de la gente, no por pretencioso, sino por derecho. Queremos que "Los Plebes" sea sinónimo de camaradería, de ese sabor que te recuerda de dónde vienes y con quién estás.</p>
                    </div>
                </div>
                <!-- Valores -->
                <div class="flex flex-col md:flex-row gap-8 items-start reveal-up">
                     <div class="w-16 h-16 flex-shrink-0 text-gold">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                    </div>
                    <div>
                        <h3 class="font-montserrat text-3xl font-bold mb-4 text-text-dark">Valores</h3>
                        <ul class="text-gray-700 space-y-4 text-lg">
                            <li><strong>Autenticidad:</strong> Sin poses, puro sabor. Lo que ves es lo que hay.</li>
                            <li><strong>Calidad:</strong> Bien hecho, desde la raíz hasta la botella.</li>
                            <li><strong>Respeto:</strong> A la tierra, a la gente, y a la tradición que nos hizo.</li>
                            <li><strong>Unión:</strong> Este tequila no es para beberse solo. Es para compartir con la banda.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección Legado -->
    <section id="legado" class="py-20 lg:py-40">
        <div class="max-w-6xl mx-auto px-6 grid lg:grid-cols-2 gap-16 items-center">
            <div class="lg:h-auto">
                <div class="w-full h-[70vh] relative overflow-hidden rounded-lg shadow-2xl">
                    <img loading="lazy" src="https://i.imgur.com/mFVrJqb.png" alt="Campo de Agave" class="w-full h-full object-cover parallax-img">
                </div>
            </div>
            <div class="relative z-10">
                <div class="reveal-up">
                    <h2 class="font-montserrat text-4xl md:text-5xl font-bold mb-6 text-amber-900/80">Nuestra Raíz</h2>
                    <div class="space-y-6 text-lg text-gray-700">
                        <p>Tequila Los Plebes nace del corazón de Sinaloa, de la tierra que nos vio crecer. No es una historia de castillos ni de reyes, es la historia de la familia, del trabajo duro bajo el sol y de las noches de celebración con los compas.</p>
                        <p>Aprendimos de nuestros viejos a respetar el agave, a entender sus tiempos y a cosecharlo con orgullo. Cada botella lleva ese legado: el sabor de nuestra tierra y el espíritu de nuestra gente, hecho para compartir.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Proceso Artesanal -->
    <section id="proceso" class="section-dark py-20 lg:py-32">
        <div class="max-w-6xl mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="font-montserrat text-4xl md:text-5xl font-bold mb-4 gold-text reveal-up uppercase">Así se Hace</h2>
                <p class="text-lg text-gray-400 max-w-3xl mx-auto reveal-up">Cuatro pasos, sin atajos. La pura calidad de Los Plebes.</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-10">
                <div class="process-step text-center reveal-up">
                    <div class="flex items-center justify-center w-20 h-20 mx-auto mb-6 border-2 border-gold rounded-full gold-text font-montserrat text-3xl font-bold">1</div>
                    <h3 class="text-2xl font-bold text-white mb-2">La Jima</h3>
                    <p class="text-gray-400">Selección manual de los agaves más maduros para asegurar la máxima calidad de azúcares.</p>
                </div>
                <div class="process-step text-center reveal-up" data-delay="0.1">
                    <div class="flex items-center justify-center w-20 h-20 mx-auto mb-6 border-2 border-gold rounded-full gold-text font-montserrat text-3xl font-bold">2</div>
                    <h3 class="text-2xl font-bold text-white mb-2">Cocción Lenta</h3>
                    <p class="text-gray-400">En hornos de mampostería para una cocción uniforme que libera las notas dulces del agave.</p>
                </div>
                <div class="process-step text-center reveal-up" data-delay="0.2">
                    <div class="flex items-center justify-center w-20 h-20 mx-auto mb-6 border-2 border-gold rounded-full gold-text font-montserrat text-3xl font-bold">3</div>
                    <h3 class="text-2xl font-bold text-white mb-2">Doble Destilación</h3>
                    <p class="text-gray-400">En alambiques de cobre, para un tequila suave y puro, sin rodeos.</p>
                </div>
                <div class="process-step text-center reveal-up" data-delay="0.3">
                    <div class="flex items-center justify-center w-20 h-20 mx-auto mb-6 border-2 border-gold rounded-full gold-text font-montserrat text-3xl font-bold">4</div>
                    <h3 class="text-2xl font-bold text-white mb-2">Maduración</h3>
                    <p class="text-gray-400">Nuestros Reposado y Añejo reposan en barricas de roble, agarrando carácter y sabor.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Productos -->
    <section id="productos" class="py-20 lg:py-32 bg-gray-50">
        <div class="max-w-6xl mx-auto px-6">
            <div class="text-center mb-16">
                <h2 class="font-montserrat text-4xl md:text-5xl font-bold mb-4 text-amber-900/80 reveal-up">La Colección</h2>
                <p class="text-lg text-gray-600 reveal-up">Tres plebes, un mismo espíritu.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-12" style="perspective: 1200px;">
                <!-- Producto: Blanco -->
                <div class="producto-card text-center group reveal-up">
                    <div class="relative bg-gradient-to-t from-gray-200/60 to-gray-50 rounded-lg p-8 transition-all duration-500 group-hover:shadow-2xl group-hover:-translate-y-3">
                        <img loading="lazy" src="https://i.imgur.com/cWKAYHd.png" alt="Botella de Tequila Blanco" class="h-96 mx-auto object-contain producto-imagen transition-transform duration-500" style="transform-style: preserve-3d;">
                    </div>
                    <div class="mt-8">
                        <h3 class="font-montserrat text-3xl font-bold text-text-dark mb-2">Blanco</h3>
                        <p class="text-gray-600 mb-4 text-sm h-12">El plebe derecho. Puro y cristalino, con notas frescas de agave cocido y cítricos.</p>
                        <button class="details-btn font-semibold text-gold hover:text-amber-900/80 transition-colors" data-title="Tequila Blanco" data-image="https://i.imgur.com/cWKAYHd.png" data-description="Nuestra expresión más pura. Captura la esencia del agave azul, recién cosechado y cocido lentamente en hornos de mampostería." data-tasting-notes="Aroma a agave cocido, pimienta y un toque herbal. En boca es suave, con notas cítricas y un final limpio y brillante." data-pairing="Perfecto para cócteles de alta gama o para disfrutarse solo, ligeramente frío.">Más Detalles →</button>
                    </div>
                </div>
                <!-- Producto: Reposado -->
                <div class="producto-card text-center group reveal-up" data-delay="0.1">
                     <div class="relative bg-gradient-to-t from-gray-200/60 to-gray-50 rounded-lg p-8 transition-all duration-500 group-hover:shadow-2xl group-hover:-translate-y-3">
                        <img loading="lazy" src="https://i.imgur.com/iPI3mWX.png" alt="Botella de Tequila Reposado" class="h-96 mx-auto object-contain producto-imagen transition-transform duration-500" style="transform-style: preserve-3d;">
                    </div>
                    <div class="mt-8">
                        <h3 class="font-montserrat text-3xl font-bold text-text-dark mb-2">Reposado</h3>
                        <p class="text-gray-600 mb-4 text-sm h-12">El plebe suave. Con un toque de barrica, notas de vainilla y caramelo.</p>
                        <button class="details-btn font-semibold text-gold hover:text-amber-900/80 transition-colors" data-title="Tequila Reposado" data-image="https://i.imgur.com/iPI3mWX.png" data-description="El equilibrio perfecto entre la pureza del agave y la complejidad de la madera. Nuestro Reposado descansa durante seis meses en barricas de roble blanco." data-tasting-notes="Aromas a vainilla, caramelo y agave cocido. En boca es sedoso, con un sabor a madera tostada y un final cálido y especiado." data-pairing="Ideal para beberse solo o en las rocas. Marida excelentemente con carnes asadas y platillos especiados.">Más Detalles →</button>
                    </div>
                </div>
                <!-- Producto: Añejo -->
                <div class="producto-card text-center group reveal-up" data-delay="0.2">
                     <div class="relative bg-gradient-to-t from-gray-200/60 to-gray-50 rounded-lg p-8 transition-all duration-500 group-hover:shadow-2xl group-hover:-translate-y-3">
                        <img loading="lazy" src="https://i.imgur.com/w5TrR8q.png" alt="Botella de Tequila Añejo" class="h-96 mx-auto object-contain producto-imagen transition-transform duration-500" style="transform-style: preserve-3d;">
                    </div>
                    <div class="mt-8">
                        <h3 class="font-montserrat text-3xl font-bold text-text-dark mb-2">Añejo</h3>
                        <p class="text-gray-600 mb-4 text-sm h-12">El plebe con experiencia. Complejo, con sabor a chocolate y frutos secos.</p>
                        <button class="details-btn font-semibold text-gold hover:text-amber-900/80 transition-colors" data-title="Tequila Añejo" data-image="https://i.imgur.com/w5TrR8q.png" data-description="La joya de nuestra colección. Madurado pacientemente durante 18 meses en barricas de roble francés, nuestro Añejo es una obra de arte líquida." data-tasting-notes="Notas intensas de chocolate, café, tabaco y frutos secos. En boca es robusto, aterciielado y con un final excepcionalmente largo." data-pairing="Disfrutar solo, en una copa de coñac. Acompaña perfectamente un buen puro o postres de chocolate amargo.">Más Detalles →</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sección de Contacto -->
    <section id="contacto" class="py-20 lg:py-32">
        <div class="max-w-5xl mx-auto px-6 text-center">
            <h2 class="font-montserrat text-4xl md:text-5xl font-bold mb-6 text-amber-900/80 reveal-up">Encuentra a Los Plebes</h2>
            <p class="text-lg text-gray-600 mb-16 reveal-up">Disponibles en tus tiendas favoritas y en línea.</p>
            
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 items-center mb-20 reveal-up">
                <a href="#" class="store-logo" title="Liverpool"><img loading="lazy" src="https://placehold.co/200x80/000000/FFFFFF?text=Liverpool" class="mx-auto h-12 filter grayscale hover:grayscale-0 transition-all duration-300" alt="Liverpool"></a>
                <a href="#" class="store-logo" title="Sears"><img loading="lazy" src="https://placehold.co/200x80/000000/FFFFFF?text=Sears" class="mx-auto h-12 filter grayscale hover:grayscale-0 transition-all duration-300" alt="Sears"></a>
                <a href="#" class="store-logo" title="Palacio de Hierro"><img loading="lazy" src="https://placehold.co/200x80/000000/FFFFFF?text=Palacio+de+Hierro" class="mx-auto h-16 filter grayscale hover:grayscale-0 transition-all duration-300" alt="Palacio de Hierro"></a>
                <a href="#" class="store-logo" title="Mercado Libre"><img loading="lazy" src="https://placehold.co/200x80/000000/FFFFFF?text=Mercado+Libre" class="mx-auto h-12 filter grayscale hover:grayscale-0 transition-all duration-300" alt="Mercado Libre"></a>
            </div>
    
            <div class="reveal-up">
                 <h3 class="text-2xl font-semibold text-text-dark mb-4">Ventas y Eventos</h3>
                 <p class="text-lg text-gray-700 mb-6 max-w-2xl mx-auto">Para pedidos especiales o para armar la fiesta con Los Plebes, échanos un grito.</p>
                 <a href="tel:+525512345678" class="inline-block bg-gray-800 text-white px-8 py-3 rounded-full font-bold text-lg hover:bg-black transition-all duration-300">
                    Llamar al 55 1234 5678
                 </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="section-dark py-16">
        <div class="max-w-6xl mx-auto px-6 text-gray-400">
            <div class="grid md:grid-cols-4 gap-8">
                <div class="md:col-span-1">
                    <a href="#inicio" class="inline-block mb-4">
                        <img src="https://i.imgur.com/SHUCRZD.png" onerror="this.onerror=null;this.src='https://placehold.co/200x80/181818/e5e5e5?text=Los+Plebes&font=montserrat';" alt="Tequila Los Plebes Logo" class="h-14">
                    </a>
                    <p class="text-sm text-gray-500">El Espíritu de la Banda.</p>
                </div>
                <div class="md:col-span-1">
                    <h4 class="font-bold text-white mb-4">Navegación</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#legado" class="hover:text-gold transition-colors">Nuestra Raíz</a></li>
                        <li><a href="#proceso" class="hover:text-gold transition-colors">Proceso</a></li>
                        <li><a href="#productos" class="hover:text-gold transition-colors">Colección</a></li>
                        <li><a href="#contacto" class="hover:text-gold transition-colors">Contacto</a></li>
                    </ul>
                </div>
                <div class="md:col-span-2">
                    <h4 class="font-bold text-white mb-4">Únete a la banda</h4>
                    <p class="text-sm mb-4">Recibe noticias, promos y más antes que nadie.</p>
                    <form class="flex">
                        <input type="email" placeholder="Tu correo electrónico" class="w-full bg-gray-800 text-white px-4 py-2 rounded-l-md focus:outline-none focus:ring-2 focus:ring-gold">
                        <button type="submit" class="gold-bg text-black px-6 py-2 font-semibold rounded-r-md hover:brightness-110">Suscribirse</button>
                    </form>
                </div>
            </div>
            <div class="mt-12 border-t border-gray-800 pt-8 text-center text-sm text-gray-600">
                <p>CONSUMO RESPONSABLE +18</p>
                <p class="mt-2">© 2025 Tequila Los Plebes. Todos los derechos reservados.</p>
                <p class="mt-4 text-xs">Powered by <a href="#" class="hover:text-gold transition-colors">weavy.agency</a></p>
            </div>
        </div>
    </footer>

    <!-- Ventana Modal -->
    <div id="product-modal" class="fixed inset-0 z-[100] flex items-center justify-center p-4 transition-all duration-300">
        <div id="modal-backdrop" class="absolute inset-0 bg-black/80 backdrop-blur-md"></div>
        <div id="modal-content" class="relative bg-white text-gray-800 rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto grid md:grid-cols-2 gap-8 p-8 transform scale-95">
            <button id="modal-close-btn" class="absolute top-4 right-4 text-gray-500 hover:text-black transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <div>
                <img id="modal-image" src="" alt="Botella de Tequila" class="w-full h-auto object-contain rounded-md max-h-[70vh]">
            </div>
            <div class="space-y-4 py-4">
                <h3 id="modal-title" class="font-montserrat text-4xl font-bold text-amber-900/90"></h3>
                <p id="modal-description" class="text-gray-600"></p>
                <div>
                    <h4 class="font-bold text-lg mb-2 text-gray-800 border-b pb-1">Notas de Cata</h4>
                    <p id="modal-tasting-notes" class="text-gray-600"></p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-2 text-gray-800 border-b pb-1">Maridaje Sugerido</h4>
                    <p id="modal-pairing" class="text-gray-600"></p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Chatbot -->
    <button id="chatbot-toggle" class="fixed bottom-8 right-8 bg-gold text-black w-20 h-20 rounded-full shadow-lg flex items-center justify-center z-[101] transform hover:scale-110 transition-transform">
        <img src="https://i.imgur.com/SHUCRZD.png" onerror="this.onerror=null;this.src='https://placehold.co/150x150/D4AF37/1a1a1a?text=LP&font=montserrat';" alt="Los Plebes AI" class="h-16">
    </button>
    <div id="chatbot-container" class="fixed bottom-32 right-8 w-full max-w-sm h-auto max-h-[70vh] bg-white rounded-lg shadow-2xl z-[100] flex flex-col transition-all duration-300">
        <div class="p-4 bg-gray-100 rounded-t-lg border-b flex justify-between items-center">
            <div>
                <h3 class="font-bold text-lg text-text-dark">Los Plebes AI</h3>
                <p class="text-xs text-gray-500">Powered by weavy.agency</p>
            </div>
            <button id="chatbot-close" class="text-gray-400 hover:text-gray-800">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </div>
        <div id="chat-window" class="flex-1 p-4 overflow-y-auto">
            <!-- Mensajes del chat aquí -->
            <div class="text-sm text-gray-600 bg-gray-100 p-3 rounded-lg self-start w-fit max-w-xs">¡Qué onda! Soy tu compa, el Plebe AI. ¿Qué quieres saber de nuestro tequila?</div>
        </div>
        <div class="p-4 border-t bg-white rounded-b-lg">
            <form id="chat-form" class="flex items-center">
                <input type="text" id="chat-input" placeholder="Escribe tu pregunta..." class="w-full px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-gold">
                <button type="submit" class="ml-3 bg-gold text-black rounded-full p-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7"></path></svg>
                </button>
            </form>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Menú y Modal (sin cambios de lógica) ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            mobileMenu.querySelectorAll('a').forEach(link => link.addEventListener('click', () => mobileMenu.classList.add('hidden')));
            const navbar = document.getElementById('navbar');
            const modal = document.getElementById('product-modal');
            const modalContent = document.getElementById('modal-content');
            const modalBackdrop = document.getElementById('modal-backdrop');
            const closeBtn = document.getElementById('modal-close-btn');
            const detailBtns = document.querySelectorAll('.details-btn');
            const modalTitle = document.getElementById('modal-title');
            const modalImage = document.getElementById('modal-image');
            const modalDescription = document.getElementById('modal-description');
            const modalTastingNotes = document.getElementById('modal-tasting-notes');
            const modalPairing = document.getElementById('modal-pairing');

            const openModal = (data) => {
                modalTitle.textContent = data.title;
                modalImage.src = data.image;
                modalDescription.textContent = data.description;
                modalTastingNotes.textContent = data.tastingNotes;
                modalPairing.textContent = data.pairing;
                modal.style.visibility = 'visible';
                gsap.to(modal, { opacity: 1, duration: 0.3 });
                gsap.fromTo(modalContent, { scale: 0.95, opacity: 0 }, { scale: 1, opacity: 1, duration: 0.3, delay: 0.1 });
                document.body.style.overflow = 'hidden';
            };
            const closeModal = () => {
                gsap.to(modal, { opacity: 0, duration: 0.3, onComplete: () => {
                    modal.style.visibility = 'hidden';
                    document.body.style.overflow = 'auto';
                }});
            };
            detailBtns.forEach(btn => btn.addEventListener('click', () => openModal(btn.dataset)));
            closeBtn.addEventListener('click', closeModal);
            modalBackdrop.addEventListener('click', closeModal);

            // --- GSAP Animaciones Optimizadas ---
            gsap.registerPlugin(ScrollTrigger);
            
            // Animación de entrada para elementos
            gsap.utils.toArray('.reveal-up').forEach((elem) => {
                gsap.to(elem, { 
                    opacity: 1, 
                    y: 0, 
                    duration: 1.2, 
                    ease: 'power4.out',
                    delay: elem.dataset.delay || 0,
                    scrollTrigger: {
                        trigger: elem,
                        start: 'top 90%',
                        toggleActions: 'play none none none'
                    }
                });
            });

            // Animación Hero
            const heroTl = gsap.timeline({defaults: {ease: "power4.out", duration: 1.5}});
            heroTl.to(".hero-line span", { y: 0, stagger: 0.1, delay: 0.2 })
                  .to("#hero-subtitle", { opacity: 1, y: 0 }, "-=1")
                  .to("#hero-buttons", { opacity: 1, y: 0 }, "-=1")
                  .to("#hero-video-container", { opacity: 1, y: 0, scale: 1, rotation: 0, duration: 2 }, 0.2);
            
            // Efecto Parallax en imagen de Legado
            gsap.to(".parallax-img", {
                yPercent: -15,
                ease: "none",
                scrollTrigger: {
                    trigger: "#legado",
                    start: "top bottom",
                    end: "bottom top",
                    scrub: 1.5,
                },
            });

            // Navbar Scroll
            let lastScroll = 0;
            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                if (currentScroll > lastScroll && currentScroll > 100) {
                    gsap.to(navbar, { y: '-100%', duration: 0.4, ease: 'power2.in' });
                } else {
                    gsap.to(navbar, { y: '0%', duration: 0.4, ease: 'power2.out' });
                }
                lastScroll = currentScroll <= 0 ? 0 : currentScroll;
                navbar.classList.toggle('nav-scrolled', window.scrollY > 50);
            });
            
            // Efecto Parallax 3D en Productos
            gsap.utils.toArray('.producto-card').forEach(card => {
                const img = card.querySelector('.producto-imagen');
                card.addEventListener('mousemove', (e) => {
                    const { left, top, width, height } = card.getBoundingClientRect();
                    const x = e.clientX - left;
                    const y = e.clientY - top;
                    const rotateX = gsap.utils.mapRange(0, height, -8, 8, y);
                    const rotateY = gsap.utils.mapRange(0, width, 8, -8, x);
                    gsap.to(img, {
                        rotationX: rotateX,
                        rotationY: rotateY,
                        z: 20,
                        duration: 0.7,
                        ease: "power3.out"
                    });
                });
                card.addEventListener('mouseleave', () => {
                    gsap.to(img, {
                        rotationX: 0,
                        rotationY: 0,
                        z: 0,
                        duration: 0.7,
                        ease: "power3.out"
                    });
                });
            });

            // Chatbot Logic
            const chatbotToggle = document.getElementById('chatbot-toggle');
            const chatbotContainer = document.getElementById('chatbot-container');
            const chatbotClose = document.getElementById('chatbot-close');
            const chatForm = document.getElementById('chat-form');
            const chatInput = document.getElementById('chat-input');
            const chatWindow = document.getElementById('chat-window');
            let chatHistory = [];

            const toggleChatbot = (show) => {
                if (show) {
                    chatbotContainer.style.visibility = 'visible';
                    gsap.to(chatbotContainer, { opacity: 1, y: 0, duration: 0.3, ease: 'power3.out' });
                } else {
                    gsap.to(chatbotContainer, { opacity: 0, y: 20, duration: 0.3, ease: 'power3.in', onComplete: () => {
                        chatbotContainer.style.visibility = 'hidden';
                    }});
                }
            };

            chatbotToggle.addEventListener('click', () => toggleChatbot(true));
            chatbotClose.addEventListener('click', () => toggleChatbot(false));

            chatForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const userMessage = chatInput.value.trim();
                if (!userMessage) return;

                appendMessage(userMessage, 'user');
                chatInput.value = '';
                appendTypingIndicator();

                chatHistory.push({ role: "user", parts: [{ text: userMessage }] });
                
                const prompt = `Eres "Los Plebes AI", un asistente virtual experto en Tequila Los Plebes. Tu personalidad es directa, amigable y auténtica, como la gente de Sinaloa. Responde las preguntas de los usuarios sobre nuestro tequila (historia, proceso, notas de cata, etc.) basándote en la información de la página. Si no sabes algo, di que lo consultarás. Sé breve y amable. La pregunta es: "${userMessage}"`;
                
                try {
                    const response = await callGeminiAPI(prompt);
                    removeTypingIndicator();
                    appendMessage(response, 'bot');
                    chatHistory.push({ role: "model", parts: [{ text: response }] });
                } catch (error) {
                    removeTypingIndicator();
                    appendMessage("Lo siento, compa. Ahorita no me puedo conectar. Intenta de nuevo más tarde.", 'bot');
                }
            });

            async function callGeminiAPI(prompt) {
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{ role: "user", parts: [{ text: prompt }] }]
                };

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }

                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    return "No pude procesar esa respuesta. ¿Puedes preguntar de otra manera?";
                }
            }

            function appendMessage(message, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('mb-3', 'text-sm');
                
                if (sender === 'user') {
                    messageDiv.classList.add('text-right');
                    messageDiv.innerHTML = `<div class="bg-gold text-black p-3 rounded-lg inline-block max-w-xs break-words">${message}</div>`;
                } else {
                    messageDiv.classList.add('text-left');
                    messageDiv.innerHTML = `<div class="bg-gray-100 text-gray-700 p-3 rounded-lg inline-block max-w-xs break-words">${message}</div>`;
                }
                
                chatWindow.appendChild(messageDiv);
                chatWindow.scrollTop = chatWindow.scrollHeight;
            }
            
            function appendTypingIndicator() {
                const typingDiv = document.createElement('div');
                typingDiv.id = 'typing-indicator';
                typingDiv.classList.add('mb-3', 'text-sm', 'text-left');
                typingDiv.innerHTML = `
                    <div class="bg-gray-100 text-gray-700 p-3 rounded-lg inline-block">
                        <div class="typing-indicator">
                            <span></span><span></span><span></span>
                        </div>
                    </div>`;
                chatWindow.appendChild(typingDiv);
                chatWindow.scrollTop = chatWindow.scrollHeight;
            }

            function removeTypingIndicator() {
                const indicator = document.getElementById('typing-indicator');
                if (indicator) {
                    indicator.remove();
                }
            }

        });
    </script>
</body>
</html>
